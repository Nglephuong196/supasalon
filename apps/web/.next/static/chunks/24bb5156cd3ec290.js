(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7064,e=>{"use strict";var n=e.i(43476),a=e.i(52236);function r({className:e,...r}){return(0,n.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,n.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",e),...r})})}function t({className:e,...r}){return(0,n.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b border-gray-100 dark:border-gray-800",e),...r})}function l({className:e,...r}){return(0,n.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",e),...r})}function s({className:e,...r}){return(0,n.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-gray-50/50 dark:hover:bg-zinc-900/50 data-[state=selected]:bg-muted border-b border-gray-50 dark:border-zinc-900 transition-colors",e),...r})}function o({className:e,...r}){return(0,n.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-muted-foreground h-12 px-6 text-left align-middle font-medium whitespace-nowrap text-xs uppercase tracking-wide [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r})}function i({className:e,...r}){return(0,n.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-5 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r})}e.s(["Table",()=>r,"TableBody",()=>l,"TableCell",()=>i,"TableHead",()=>o,"TableHeader",()=>t,"TableRow",()=>s])},10199,e=>{"use strict";var n=e.i(43476),a=e.i(71645),r=e.i(7233),t=e.i(41071),l=e.i(88699),s=e.i(16019),o=e.i(66691),i=e.i(82879),c=e.i(40087),d=e.i(24911),h=e.i(25466),m=e.i(52236);function u({title:e,categories:u,selectedId:x,onSelect:g,onAdd:p,onEdit:j,onDelete:b}){let[v,f]=(0,a.useState)(!1),[y,N]=(0,a.useState)(null),[w,C]=(0,a.useState)("");return(0,n.jsxs)("div",{className:"w-64 border-r h-full flex flex-col bg-background",children:[(0,n.jsxs)("div",{className:"p-4 border-b flex items-center justify-between",children:[(0,n.jsx)("h2",{className:"font-semibold text-lg",children:e}),(0,n.jsx)(o.Button,{variant:"ghost",size:"icon",onClick:()=>{N(null),C(""),f(!0)},children:(0,n.jsx)(r.Plus,{className:"h-4 w-4"})})]}),(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[(0,n.jsx)(o.Button,{variant:null===x?"secondary":"ghost",className:"w-full justify-start font-normal",onClick:()=>g(null),children:"Tất cả"}),u.map(e=>(0,n.jsxs)("div",{className:(0,m.cn)("flex items-center group w-full rounded-md px-2 py-1.5 text-sm hover:bg-accent hover:text-accent-foreground cursor-pointer transition-colors",x===e.id&&"bg-secondary text-secondary-foreground"),onClick:()=>g(e.id),children:[(0,n.jsx)("span",{className:"flex-1 truncate",children:e.name}),(0,n.jsxs)(c.DropdownMenu,{children:[(0,n.jsx)(c.DropdownMenuTrigger,{asChild:!0,children:(0,n.jsx)(o.Button,{variant:"ghost",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,n.jsx)(t.MoreHorizontal,{className:"h-4 w-4"})})}),(0,n.jsxs)(c.DropdownMenuContent,{align:"end",children:[(0,n.jsxs)(c.DropdownMenuItem,{onClick:n=>{n.stopPropagation(),N(e),C(e.name),f(!0)},children:[(0,n.jsx)(l.Pencil,{className:"mr-2 h-4 w-4"})," Sửa"]}),(0,n.jsxs)(c.DropdownMenuItem,{onClick:n=>{var a;return a=e.id,void(n.stopPropagation(),confirm("Bạn có chắc muốn xóa danh mục này?")&&b(a))},className:"text-red-600",children:[(0,n.jsx)(s.Trash,{className:"mr-2 h-4 w-4"})," Xóa"]})]})]})]},e.id))]}),(0,n.jsx)(i.Dialog,{open:v,onOpenChange:f,children:(0,n.jsxs)(i.DialogContent,{className:"sm:max-w-[425px]",children:[(0,n.jsxs)(i.DialogHeader,{children:[(0,n.jsx)(i.DialogTitle,{children:y?"Sửa danh mục":"Thêm danh mục"}),(0,n.jsx)(i.DialogDescription,{children:y?"Cập nhật tên danh mục.":"Tạo danh mục mới để phân loại."})]}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),w.trim()&&(y?j(y.id,w):p(w),f(!1))},children:[(0,n.jsx)("div",{className:"grid gap-4 py-4",children:(0,n.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,n.jsx)(h.Label,{htmlFor:"name",className:"text-right",children:"Tên"}),(0,n.jsx)(d.Input,{id:"name",value:w,onChange:e=>C(e.target.value),className:"col-span-3",autoFocus:!0})]})}),(0,n.jsx)(i.DialogFooter,{children:(0,n.jsx)(o.Button,{type:"submit",children:"Lưu thay đổi"})})]})]})})]})}e.s(["CategorySidebar",()=>u])},10118,e=>{"use strict";var n=e.i(43476),a=e.i(71645),r=e.i(10199),t=e.i(17894),l=e.i(41071),s=e.i(88699),o=e.i(16019),i=e.i(66691),c=e.i(40087);let d=({onEdit:e,onDelete:a})=>[{accessorKey:"name",header:"Tên dịch vụ"},{accessorKey:"duration",header:"Thời lượng",cell:({row:e})=>`${e.getValue("duration")} ph\xfat`},{accessorKey:"price",header:"Giá",cell:({row:e})=>{let n=parseFloat(e.getValue("price"));return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(n)}},{id:"actions",cell:({row:r})=>{let t=r.original;return(0,n.jsxs)(c.DropdownMenu,{children:[(0,n.jsx)(c.DropdownMenuTrigger,{asChild:!0,children:(0,n.jsxs)(i.Button,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,n.jsx)("span",{className:"sr-only",children:"Mở menu"}),(0,n.jsx)(l.MoreHorizontal,{className:"h-4 w-4"})]})}),(0,n.jsxs)(c.DropdownMenuContent,{align:"end",children:[(0,n.jsx)(c.DropdownMenuLabel,{children:"Thao tác"}),(0,n.jsxs)(c.DropdownMenuItem,{onClick:()=>e(t),children:[(0,n.jsx)(s.Pencil,{className:"mr-2 h-4 w-4"})," Sửa"]}),(0,n.jsxs)(c.DropdownMenuItem,{onClick:()=>a(t),className:"text-red-600",children:[(0,n.jsx)(o.Trash,{className:"mr-2 h-4 w-4"})," Xóa"]})]})]})}}];var h=e.i(94814),m=e.i(53145),u=e.i(78300),x=e.i(24911),g=e.i(33),p=e.i(46012),j=e.i(81307);let b=j.z.object({id:j.z.string().optional(),name:j.z.string().min(2,{message:"Tên dịch vụ không được để trống."}),price:j.z.number().min(0,{message:"Giá không hợp lệ."}),duration:j.z.number().min(0,{message:"Thời lượng không hợp lệ."}),categoryId:j.z.string().min(1,{message:"Vui lòng chọn danh mục."})});function v({defaultValues:e,onSubmit:a,categories:r}){let t=(0,m.useForm)({resolver:(0,h.zodResolver)(b),defaultValues:e||{name:"",price:0,duration:30,categoryId:r.length>0?r[0].id:""}});return(0,n.jsx)(u.Form,{...t,children:(0,n.jsxs)("form",{onSubmit:t.handleSubmit(a),className:"space-y-4",children:[(0,n.jsx)(u.FormField,{control:t.control,name:"name",render:({field:e})=>(0,n.jsxs)(u.FormItem,{children:[(0,n.jsx)(u.FormLabel,{children:"Tên dịch vụ"}),(0,n.jsx)(u.FormControl,{children:(0,n.jsx)(x.Input,{placeholder:"Tên dịch vụ",...e})}),(0,n.jsx)(u.FormMessage,{})]})}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsx)(u.FormField,{control:t.control,name:"price",render:({field:e})=>(0,n.jsxs)(u.FormItem,{children:[(0,n.jsx)(u.FormLabel,{children:"Giá (VNĐ)"}),(0,n.jsx)(u.FormControl,{children:(0,n.jsx)(x.Input,{type:"number",placeholder:"0",...e,onChange:n=>e.onChange(n.target.valueAsNumber)})}),(0,n.jsx)(u.FormMessage,{})]})}),(0,n.jsx)(u.FormField,{control:t.control,name:"duration",render:({field:e})=>(0,n.jsxs)(u.FormItem,{children:[(0,n.jsx)(u.FormLabel,{children:"Thời lượng (phút)"}),(0,n.jsx)(u.FormControl,{children:(0,n.jsx)(x.Input,{type:"number",placeholder:"30",...e,onChange:n=>e.onChange(n.target.valueAsNumber)})}),(0,n.jsx)(u.FormMessage,{})]})})]}),(0,n.jsx)(u.FormField,{control:t.control,name:"categoryId",render:({field:e})=>(0,n.jsxs)(u.FormItem,{children:[(0,n.jsx)(u.FormLabel,{children:"Danh mục"}),(0,n.jsxs)(g.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,n.jsx)(u.FormControl,{children:(0,n.jsx)(g.SelectTrigger,{children:(0,n.jsx)(g.SelectValue,{placeholder:"Chọn danh mục"})})}),(0,n.jsx)(g.SelectContent,{children:r.map(e=>(0,n.jsx)(g.SelectItem,{value:e.id,children:e.name},e.id))})]}),(0,n.jsx)(u.FormMessage,{})]})}),(0,n.jsx)(p.SheetFooter,{children:(0,n.jsx)(i.Button,{type:"submit",children:"Lưu dịch vụ"})})]})})}let f=[{id:"cat1",name:"Cắt tóc"},{id:"cat2",name:"Gội đầu"},{id:"cat3",name:"Nhuộm"}],y=[{id:"1",name:"Cắt tóc nam",price:1e5,duration:30,categoryId:"cat1"},{id:"2",name:"Cắt tóc nữ",price:15e4,duration:45,categoryId:"cat1"},{id:"3",name:"Gội đầu thư giãn",price:5e4,duration:30,categoryId:"cat2"}];function N(){let[e,l]=(0,a.useState)(f),[s,o]=(0,a.useState)(null),[i,c]=(0,a.useState)(y),h=s?i.filter(e=>e.categoryId===s):i;return(0,n.jsxs)("div",{className:"flex h-full",children:[(0,n.jsx)(r.CategorySidebar,{title:"Danh mục dịch vụ",categories:e,selectedId:s,onSelect:o,onAdd:n=>{l([...e,{id:Math.random().toString(),name:n}])},onEdit:(n,a)=>{l(e.map(e=>e.id===n?{...e,name:a}:e))},onDelete:n=>{l(e.filter(e=>e.id!==n)),s===n&&o(null)}}),(0,n.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,n.jsx)(t.ResourcePage,{title:s?e.find(e=>e.id===s)?.name||"Dịch vụ":"Tất cả dịch vụ",initialData:h,searchKey:"name",addButtonLabel:"Thêm dịch vụ",getColumns:d,FormComponent:a=>(0,n.jsx)(v,{...a,categories:e}),dialogTitle:e=>e?"Sửa dịch vụ":"Thêm dịch vụ mới",dialogDescription:"Nhập thông tin dịch vụ vào form bên dưới."},s||"all")})]})}e.s(["default",()=>N],10118)}]);