(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7064,e=>{"use strict";var n=e.i(43476),r=e.i(52236);function a({className:e,...a}){return(0,n.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,n.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",e),...a})})}function s({className:e,...a}){return(0,n.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b border-gray-100 dark:border-gray-800",e),...a})}function t({className:e,...a}){return(0,n.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",e),...a})}function l({className:e,...a}){return(0,n.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-gray-50/50 dark:hover:bg-zinc-900/50 data-[state=selected]:bg-muted border-b border-gray-50 dark:border-zinc-900 transition-colors",e),...a})}function o({className:e,...a}){return(0,n.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-muted-foreground h-12 px-6 text-left align-middle font-medium whitespace-nowrap text-xs uppercase tracking-wide [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}function i({className:e,...a}){return(0,n.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-5 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}e.s(["Table",()=>a,"TableBody",()=>t,"TableCell",()=>i,"TableHead",()=>o,"TableHeader",()=>s,"TableRow",()=>l])},10199,e=>{"use strict";var n=e.i(43476),r=e.i(71645),a=e.i(7233),s=e.i(41071),t=e.i(88699),l=e.i(16019),o=e.i(66691),i=e.i(82879),c=e.i(40087),d=e.i(24911),m=e.i(25466),h=e.i(52236);function u({title:e,categories:u,selectedId:x,onSelect:g,onAdd:p,onEdit:j,onDelete:b}){let[f,y]=(0,r.useState)(!1),[N,v]=(0,r.useState)(null),[w,C]=(0,r.useState)("");return(0,n.jsxs)("div",{className:"w-64 border-r h-full flex flex-col bg-background",children:[(0,n.jsxs)("div",{className:"p-4 border-b flex items-center justify-between",children:[(0,n.jsx)("h2",{className:"font-semibold text-lg",children:e}),(0,n.jsx)(o.Button,{variant:"ghost",size:"icon",onClick:()=>{v(null),C(""),y(!0)},children:(0,n.jsx)(a.Plus,{className:"h-4 w-4"})})]}),(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[(0,n.jsx)(o.Button,{variant:null===x?"secondary":"ghost",className:"w-full justify-start font-normal",onClick:()=>g(null),children:"Tất cả"}),u.map(e=>(0,n.jsxs)("div",{className:(0,h.cn)("flex items-center group w-full rounded-md px-2 py-1.5 text-sm hover:bg-accent hover:text-accent-foreground cursor-pointer transition-colors",x===e.id&&"bg-secondary text-secondary-foreground"),onClick:()=>g(e.id),children:[(0,n.jsx)("span",{className:"flex-1 truncate",children:e.name}),(0,n.jsxs)(c.DropdownMenu,{children:[(0,n.jsx)(c.DropdownMenuTrigger,{asChild:!0,children:(0,n.jsx)(o.Button,{variant:"ghost",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,n.jsx)(s.MoreHorizontal,{className:"h-4 w-4"})})}),(0,n.jsxs)(c.DropdownMenuContent,{align:"end",children:[(0,n.jsxs)(c.DropdownMenuItem,{onClick:n=>{n.stopPropagation(),v(e),C(e.name),y(!0)},children:[(0,n.jsx)(t.Pencil,{className:"mr-2 h-4 w-4"})," Sửa"]}),(0,n.jsxs)(c.DropdownMenuItem,{onClick:n=>{var r;return r=e.id,void(n.stopPropagation(),confirm("Bạn có chắc muốn xóa danh mục này?")&&b(r))},className:"text-red-600",children:[(0,n.jsx)(l.Trash,{className:"mr-2 h-4 w-4"})," Xóa"]})]})]})]},e.id))]}),(0,n.jsx)(i.Dialog,{open:f,onOpenChange:y,children:(0,n.jsxs)(i.DialogContent,{className:"sm:max-w-[425px]",children:[(0,n.jsxs)(i.DialogHeader,{children:[(0,n.jsx)(i.DialogTitle,{children:N?"Sửa danh mục":"Thêm danh mục"}),(0,n.jsx)(i.DialogDescription,{children:N?"Cập nhật tên danh mục.":"Tạo danh mục mới để phân loại."})]}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),w.trim()&&(N?j(N.id,w):p(w),y(!1))},children:[(0,n.jsx)("div",{className:"grid gap-4 py-4",children:(0,n.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,n.jsx)(m.Label,{htmlFor:"name",className:"text-right",children:"Tên"}),(0,n.jsx)(d.Input,{id:"name",value:w,onChange:e=>C(e.target.value),className:"col-span-3",autoFocus:!0})]})}),(0,n.jsx)(i.DialogFooter,{children:(0,n.jsx)(o.Button,{type:"submit",children:"Lưu thay đổi"})})]})]})})]})}e.s(["CategorySidebar",()=>u])},29964,e=>{"use strict";var n=e.i(43476),r=e.i(71645),a=e.i(10199),s=e.i(17894),t=e.i(41071),l=e.i(88699),o=e.i(16019),i=e.i(66691),c=e.i(40087);let d=({onEdit:e,onDelete:r})=>[{accessorKey:"name",header:"Tên sản phẩm"},{accessorKey:"stock",header:"Tồn kho"},{accessorKey:"price",header:"Giá",cell:({row:e})=>{let n=parseFloat(e.getValue("price"));return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(n)}},{id:"actions",cell:({row:a})=>{let s=a.original;return(0,n.jsxs)(c.DropdownMenu,{children:[(0,n.jsx)(c.DropdownMenuTrigger,{asChild:!0,children:(0,n.jsxs)(i.Button,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,n.jsx)("span",{className:"sr-only",children:"Mở menu"}),(0,n.jsx)(t.MoreHorizontal,{className:"h-4 w-4"})]})}),(0,n.jsxs)(c.DropdownMenuContent,{align:"end",children:[(0,n.jsx)(c.DropdownMenuLabel,{children:"Thao tác"}),(0,n.jsxs)(c.DropdownMenuItem,{onClick:()=>e(s),children:[(0,n.jsx)(l.Pencil,{className:"mr-2 h-4 w-4"})," Sửa"]}),(0,n.jsxs)(c.DropdownMenuItem,{onClick:()=>r(s),className:"text-red-600",children:[(0,n.jsx)(o.Trash,{className:"mr-2 h-4 w-4"})," Xóa"]})]})]})}}];var m=e.i(94814),h=e.i(53145),u=e.i(78300),x=e.i(24911),g=e.i(33),p=e.i(46012),j=e.i(81307);let b=j.z.object({id:j.z.string().optional(),name:j.z.string().min(2,{message:"Tên sản phẩm không được để trống."}),price:j.z.number().min(0,{message:"Giá không hợp lệ."}),stock:j.z.number().min(0,{message:"Số lượng không hợp lệ."}),categoryId:j.z.string().min(1,{message:"Vui lòng chọn danh mục."})});function f({defaultValues:e,onSubmit:r,categories:a}){let s=(0,h.useForm)({resolver:(0,m.zodResolver)(b),defaultValues:e||{name:"",price:0,stock:0,categoryId:a.length>0?a[0].id:""}});return(0,n.jsx)(u.Form,{...s,children:(0,n.jsxs)("form",{onSubmit:s.handleSubmit(r),className:"space-y-4",children:[(0,n.jsx)(u.FormField,{control:s.control,name:"name",render:({field:e})=>(0,n.jsxs)(u.FormItem,{children:[(0,n.jsx)(u.FormLabel,{children:"Tên sản phẩm"}),(0,n.jsx)(u.FormControl,{children:(0,n.jsx)(x.Input,{placeholder:"Tên sản phẩm",...e})}),(0,n.jsx)(u.FormMessage,{})]})}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsx)(u.FormField,{control:s.control,name:"price",render:({field:e})=>(0,n.jsxs)(u.FormItem,{children:[(0,n.jsx)(u.FormLabel,{children:"Giá (VNĐ)"}),(0,n.jsx)(u.FormControl,{children:(0,n.jsx)(x.Input,{type:"number",placeholder:"0",...e,onChange:n=>e.onChange(n.target.valueAsNumber)})}),(0,n.jsx)(u.FormMessage,{})]})}),(0,n.jsx)(u.FormField,{control:s.control,name:"stock",render:({field:e})=>(0,n.jsxs)(u.FormItem,{children:[(0,n.jsx)(u.FormLabel,{children:"Tồn kho"}),(0,n.jsx)(u.FormControl,{children:(0,n.jsx)(x.Input,{type:"number",placeholder:"0",...e,onChange:n=>e.onChange(n.target.valueAsNumber)})}),(0,n.jsx)(u.FormMessage,{})]})})]}),(0,n.jsx)(u.FormField,{control:s.control,name:"categoryId",render:({field:e})=>(0,n.jsxs)(u.FormItem,{children:[(0,n.jsx)(u.FormLabel,{children:"Danh mục"}),(0,n.jsxs)(g.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,n.jsx)(u.FormControl,{children:(0,n.jsx)(g.SelectTrigger,{children:(0,n.jsx)(g.SelectValue,{placeholder:"Chọn danh mục"})})}),(0,n.jsx)(g.SelectContent,{children:a.map(e=>(0,n.jsx)(g.SelectItem,{value:e.id,children:e.name},e.id))})]}),(0,n.jsx)(u.FormMessage,{})]})}),(0,n.jsx)(p.SheetFooter,{children:(0,n.jsx)(i.Button,{type:"submit",children:"Lưu sản phẩm"})})]})})}let y=[{id:"cat1",name:"Dầu gội"},{id:"cat2",name:"Dưỡng tóc"},{id:"cat3",name:"Màu nhuộm"}],N=[{id:"1",name:"Dầu gội Biotin",price:25e4,stock:10,categoryId:"cat1"},{id:"2",name:"Dầu dưỡng Tsubaki",price:3e5,stock:5,categoryId:"cat2"}];function v(){let[e,t]=(0,r.useState)(y),[l,o]=(0,r.useState)(null),[i,c]=(0,r.useState)(N),m=l?i.filter(e=>e.categoryId===l):i;return(0,n.jsxs)("div",{className:"flex h-full",children:[(0,n.jsx)(a.CategorySidebar,{title:"Danh mục sản phẩm",categories:e,selectedId:l,onSelect:o,onAdd:n=>{t([...e,{id:Math.random().toString(),name:n}])},onEdit:(n,r)=>{t(e.map(e=>e.id===n?{...e,name:r}:e))},onDelete:n=>{t(e.filter(e=>e.id!==n)),l===n&&o(null)}}),(0,n.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,n.jsx)(s.ResourcePage,{title:l?e.find(e=>e.id===l)?.name||"Sản phẩm":"Tất cả sản phẩm",initialData:m,searchKey:"name",addButtonLabel:"Thêm sản phẩm",getColumns:d,FormComponent:r=>(0,n.jsx)(f,{...r,categories:e}),dialogTitle:e=>e?"Sửa sản phẩm":"Thêm sản phẩm mới",dialogDescription:"Nhập thông tin sản phẩm vào form bên dưới."},l||"all")})]})}e.s(["default",()=>v],29964)}]);